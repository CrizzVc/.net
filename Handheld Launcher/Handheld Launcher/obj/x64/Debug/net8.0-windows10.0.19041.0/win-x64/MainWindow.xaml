<?xml version="1.0" encoding="utf-8"?>
<Window x:ConnectionId='1'
    x:Class="Handheld_Launcher.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Handheld_Launcher"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Title="Handheld Launcher">


    <Window.SystemBackdrop>
        <MicaBackdrop />
    </Window.SystemBackdrop>

    <Grid x:ConnectionId='2' x:Name="RootGrid"
                                    
          IsTabStop="True">

        <Grid.Resources>
            <local:BoolToWidthConverter x:Key="BoolToWidthConverter" />
            
        </Grid.Resources>

        <!-- COLUMNAS -->
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="80"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- FILAS -->
        <Grid.RowDefinitions>
            <RowDefinition Height="9*" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="50" />
        </Grid.RowDefinitions>

        <!-- SIDEBAR -->
        <Grid x:ConnectionId='3' x:Name="LeftSidebar"
              Grid.Column="0"
              Grid.RowSpan="3"
              Background="#16171b">

            <StackPanel VerticalAlignment="Center"
                        HorizontalAlignment="Center"
                        Spacing="25">

                <Button x:ConnectionId='23'                    Width="50" Height="50" CornerRadius="10">
                    <FontIcon Glyph="&#xE80F;" FontFamily="Segoe MDL2 Assets" FontSize="24"/>
                </Button>

                <Button x:ConnectionId='24'                       Width="50" Height="50" CornerRadius="10">
                    <FontIcon Glyph="&#xe74c;" FontFamily="Segoe MDL2 Assets" FontSize="24"/>
                </Button>

                <Button x:ConnectionId='25'                       Width="50" Height="50" CornerRadius="10">

                    <FontIcon Glyph="&#xe948;" FontFamily="Segoe MDL2 Assets" FontSize="24"/>
                </Button>

                <Button Width="50" Height="50" CornerRadius="10">
                    <Button.Flyout>
                        <MenuFlyout>
                            <MenuFlyoutItem x:ConnectionId='26' Text="Color sólido"                    />
                            <MenuFlyoutItem x:ConnectionId='27' Text="Degradado"                       />
                            <MenuFlyoutItem x:ConnectionId='28' Text="Imagen"                    />
                        </MenuFlyout>
                    </Button.Flyout>
                    <FontIcon Glyph="&#xe713;" FontFamily="Segoe MDL2 Assets" FontSize="24"/>
                </Button>

            </StackPanel>

        </Grid>

        

        <!-- BACKGROUND -->
        <Image x:ConnectionId='4' x:Name="BackgroundImage"
               Grid.Column="1"
               Stretch="UniformToFill"
               Grid.RowSpan="3"/>

        <!-- GRADIENT OVERLAY -->
        <Grid Grid.Column="1" Grid.RowSpan="3">
            <Grid.Background>
                <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                    <GradientStop Color="#00000000" Offset="0"/>
                    <GradientStop Color="#00000000" Offset="0.6"/>
                    <GradientStop Color="#CC000000" Offset="1"/>
                </LinearGradientBrush>
            </Grid.Background>
        </Grid>

        <Grid Grid.Column="1" Grid.Row="0">
            <FontIcon Glyph="&#xE856;"
              FontFamily="Segoe MDL2 Assets"
              FontSize="35"
              Foreground="White"
              HorizontalAlignment="Right"
              VerticalAlignment="Top"
              Margin="0,30,115,0"/>
        </Grid>
        <!-- CLOCK -->
        <TextBlock x:ConnectionId='5' x:Name="TimeTextBlock"
                   Grid.Column="1"
                   Grid.Row="0"
                   HorizontalAlignment="Right"
                   VerticalAlignment="Top"
                   Margin="0,30,40,0"
                   FontSize="26"
                   FontWeight="SemiBold"
                   Foreground="White"/>

        <!-- CONTENEDOR DE VISTAS -->
        <Grid Grid.Column="1" Grid.Row="1">

            <!-- HOME VIEW -->
            <StackPanel x:ConnectionId='6' x:Name="HomeView" Padding="40,0">

                <StackPanel Orientation="Horizontal" Spacing="20" Margin="0,0,0,20">
                    <TextBlock Text="MIS JUEGOS"
                               FontWeight="Bold"
                               FontSize="28"
                               Foreground="White"/>
                   
                </StackPanel>

                <ScrollViewer x:ConnectionId='17' x:Name="CarouselScrollViewer"
                              HorizontalScrollMode="Enabled"
                              HorizontalScrollBarVisibility="Hidden"
                              VerticalScrollMode="Disabled">

                    <GridView x:ConnectionId='18' x:Name="CarouselGrid"
                                                                            
                              IsItemClickEnabled="True"
                                                                
                              SelectionMode="Single">

                        <GridView.ItemsPanel>
                            <ItemsPanelTemplate>
                                <StackPanel Orientation="Horizontal"/>
                            </ItemsPanelTemplate>
                        </GridView.ItemsPanel>

                        <GridView.ItemTemplate>
                            <DataTemplate                            >
                                <StackPanel x:ConnectionId='20' Width="{Binding IsLarge, Converter={StaticResource BoolToWidthConverter}}" Margin="14">
                                    <Border Height="260" CornerRadius="12" Background="#222" Width="{Binding IsLarge, Converter={StaticResource BoolToWidthConverter}}">
                                        <Image x:ConnectionId='22'                                Stretch="UniformToFill"/>
                                    </Border>
                                    <TextBlock x:ConnectionId='21'                      Foreground="White" Margin="0,10,0,0" TextWrapping="Wrap"/>
                                </StackPanel>
                            </DataTemplate>
                        </GridView.ItemTemplate>

                    </GridView>
                </ScrollViewer>

            </StackPanel>

            

            <!-- LIBRARY VIEW -->
            <Grid x:ConnectionId='7' x:Name="LibraryView"
                  Visibility="Collapsed"
                  Height="1060"
                  ScrollViewer.VerticalScrollBarVisibility="Auto"
                  Padding="40">
                  

                <Grid.Background>
                    <SolidColorBrush Color="#AA000000" />
                    <!-- negro semi-transparente -->
                </Grid.Background>

                <StackPanel>

                    <TextBlock Text="BIBLIOTECA"
                               FontSize="40"
                               Foreground="White"
                               Margin="0,0,0,30"/>

                    <GridView x:ConnectionId='12' x:Name="LibraryGrid"
                                                                            
                              IsItemClickEnabled="True"
                                                               
                              SelectionMode="Single">

                        <GridView.ItemsPanel>
                            <ItemsPanelTemplate>
                                <ItemsWrapGrid Orientation="Horizontal"
                                               MaximumRowsOrColumns="6"/>
                            </ItemsPanelTemplate>
                        </GridView.ItemsPanel>

                        <GridView.ItemTemplate>
                            <DataTemplate                            >
                                <StackPanel x:ConnectionId='14' Width="200" Margin="12">
                                    <Border Height="260"
                                            CornerRadius="12"
                                            Background="#222">
                                        <Image x:ConnectionId='16'                               
                                               Stretch="UniformToFill"/>
                                    </Border>
                                    <TextBlock x:ConnectionId='15'                     
                                               Foreground="White"
                                               Margin="0,10,0,0"
                                               TextWrapping="Wrap"/>
                                </StackPanel>
                            </DataTemplate>
                        </GridView.ItemTemplate>

                    </GridView>

                </StackPanel>
            </Grid>

            <Grid x:ConnectionId='8' x:Name="DetailOverlay" Grid.RowSpan="3" Visibility="Collapsed" Background="#FF000000" IsHitTestVisible="False">
                <Image Source="{Binding SelectedGame.BackgroundOrIcon}" Stretch="UniformToFill" Opacity="0.35"/>
                <Rectangle>
                    <Rectangle.Fill>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                            <GradientStop Color="#00000000" Offset="0.0"/>
                            <GradientStop Color="#B3000000" Offset="0.6"/>
                        </LinearGradientBrush>
                    </Rectangle.Fill>
                </Rectangle>
                <StackPanel HorizontalAlignment="Left" VerticalAlignment="Center" Margin="80" MaxWidth="900" IsHitTestVisible="True">
                    <TextBlock Text="{Binding SelectedGame.Name}" FontSize="72" FontFamily="ms-appx:///Assets/GoogleSans-Variable.ttf#Google Sans" FontWeight="SemiBold" Foreground="White" TextWrapping="Wrap" />
                    <StackPanel Orientation="Horizontal" Spacing="20" Margin="0,24,0,0">
                        <Button x:ConnectionId='9' Content="▶ PLAY"                                Style="{StaticResource AccentButtonStyle}" Width="160" Height="48" />
                        <Button x:ConnectionId='10' Content="Cerrar"                          Width="120" Height="48" />
                        <Button x:ConnectionId='11' Content="⋯" Width="48" Height="48" FontSize="22"                              />
                    </StackPanel>
                </StackPanel>
            </Grid>

        </Grid>

    </Grid>
</Window>

